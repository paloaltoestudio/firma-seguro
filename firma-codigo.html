<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Firma Seguro</title>
    <link rel="shortcut icon" href="">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.standalone.min.css" integrity="sha512-TQQ3J4WkE/rwojNFo6OJdyu6G8Xe9z8rMrlF9y7xpFbQfW5g8aSWcygCQ4vqRiJqFsDsE1T6MoAOMJkFXlrI9A==" crossorigin="anonymous" />

    <link rel="stylesheet" href="css/style.css">   
    <link rel="stylesheet" href="css/responsive.css"> 
    <link rel="stylesheet" href="css/responsive.css">

    <!--[if IE]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    
    <div class="app front_app">
        <div class="sidebar front">
            <div class="logo final_user">
                <img src="images/logo.jpg" alt="">
            </div>
        </div>

        <div class="main">

            <div class="sub_top">
                <p>Hola <strong>Juan</strong>, tienes 3 documentos por firmar</p>
            </div>

            <div class="content">
                <div class="main_content">
                    <h1>Autentícate</h1>
                    <section class="otp">
                        <div class="box_front">
                            <p>Ingresa el número que te enviamos</p>

                            <form action="">
                                <input class="otp_1" type="text" maxlength="1">
                                <input class="otp_2" type="text" maxlength="1">
                                <input class="otp_3" type="text" maxlength="1">
                                <input class="otp_4 last" type="text" maxlength="1">
                            </form>

                            <p class="otp_error">El código es incorrecto</p>

                            <div class="link_group">
                                <a href="" class="btn spinner link secundary small">Recibir Llamada</a>
                                <a href="" class="btn spinner link secundary small">Recibir SMS</a>
                                <a href="" class="btn spinner link small">
                                    Continuar
                                </a>
                            </div>
                        </div>
                    </section>
                </div>

                <footer>
                    <p class="text-center">
                        Copyright Treda Solutions
                    </p>
                </footer>
            </div>
        </div>
        
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js" integrity="sha512-T/tUfKSV1bihCnd+MxKD0Hm1uBBroVYBOYSk1knyvQ9VyZJpc/ALb4P0r6ubwVPSGB2GvjeoMAJJImBG12TiaQ==" crossorigin="anonymous"></script>
    
    <!-- spinner -->
    <script src="./js/spinner.js"></script>

    <!-- Auto focus next field and Validate OTP -->
    <script>
        const inputList = document.querySelectorAll('.otp input');
        const otp1 = document.querySelector('.otp_1');
        const otp2 = document.querySelector('.otp_2');
        const otp3 = document.querySelector('.otp_3');
        const otp4 = document.querySelector('.otp_4');

        let otpValue = '';
        let otpError = document.querySelector('.otp_error');
        let otpCheck = 1234;


        Array.from(inputList).map(inputItem => inputItem.addEventListener('keyup', () => {
            inputItem.nextElementSibling && inputItem.value != '' && inputItem.nextElementSibling.focus();
            inputItem.classList.contains('last') && inputItem.blur();

            otpValue = otp1.value + otp2.value + otp3.value + otp4.value;

            if(otpValue.length == 4 && otpValue != otpCheck) {
                otpError.classList.add('active')
            } else if (otpValue.length == 4 && otpValue == otpCheck && otpError.classList.contains('active')){
                otpError.classList.remove('active')
            }
        }));

        Array.from(inputList).map(inputItem => inputItem.addEventListener('click', () => {
            inputItem.value = '';
            inputItem.setSelectionRange(0, 0);
            otpValue = '';
        }));

    </script>

    
</body>
</html>
