<!DOCTYPE html>
<html lang="">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="">
    <meta name="author" content="">
    <title>Firma Seguro</title>
    <link rel="shortcut icon" href="">
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.5.0/css/all.css" integrity="sha384-B4dIYHKNBt8Bc12p+WXckhzcICo0wtJAoU8YZTY5qE0Id1GSseTk6S+L3BlXeVIU" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/css/bootstrap-datepicker.standalone.min.css" integrity="sha512-TQQ3J4WkE/rwojNFo6OJdyu6G8Xe9z8rMrlF9y7xpFbQfW5g8aSWcygCQ4vqRiJqFsDsE1T6MoAOMJkFXlrI9A==" crossorigin="anonymous" />

    <link rel="stylesheet" href="css/style.css"> 
    <link rel="stylesheet" href="css/responsive.css">   

    <!--[if IE]>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html5shiv/3.7.3/html5shiv.min.js"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/respond.js/1.4.2/respond.min.js"></script>
    <![endif]-->
</head>

<body>
    
    <div class="app front_app">
        <div class="sidebar front">
            <div class="logo final_user">
                <img src="images/logo.jpg" alt="">
            </div>
        </div>

        <div class="main">
            

            <div class="sub_top">
                <p>Hola <strong>Juan</strong>, tienes 3 documentos por firmar</p>
            </div>

            <div class="content">

                <div class="body_overlay"></div>

                <!-- Panel: PDF viewer  -->
                <div class="pdf_panel panel">
                    <div class="close">
                        <a href="">
                            <i class="fas fa-times"></i>
                        </a>
                    </div>

                    <object data="pdf/contrato.pdf" type="application/pdf" width="100%" height="90%">
                        <p>Revisa tu documento en el siguiente <a href="pdf/contrato.pdf" target="_blank">enlace</a></p>
                    </object>
                </div>

                <div class="main_content">
                    <h1>Documento(s)</h1>
                    <section class="document">
                        <div class="box_front review_doc">
                            <ul class="list-unstyled">
                                <li>
                                    <span>
                                        <a href="pdf_panel" class="doc_name pdfTrigger">Contrato_de_arriendo.pdf</a>
                                    </span>
                                    <span class="action_links">
                                        <a href="pdf_panel" class="link secundary small pdfTrigger">Ver</a>
                                        <a href="" class="link small">Iniciar Firma</a>
                                    </span>
                                </li>
                                <li>
                                    <span>
                                        <a href="pdf_panel" class="doc_name pdfTrigger">Contrato_de_arriendo.pdf</a>
                                    </span>
                                    <span class="action_links">
                                        <a href="pdf_panel" class="link secundary small pdfTrigger">Ver</a>
                                        <a href="" class="link small">Iniciar Firma</a>
                                    </span>
                                </li>
                                <li>
                                    <span>
                                        <a href="pdf_panel" class="doc_name pdfTrigger">Contrato_de_arriendo.pdf</a>
                                    </span>
                                    <span class="action_links">
                                        <a href="pdf_panel" class="link secundary small pdfTrigger">Ver</a>
                                        <a href="" class="link small">Iniciar Firma</a>
                                    </span>
                                </li>
                            </ul>
                        </div>
                    </section>
                </div>

                <footer>
                    <p class="text-center">
                        Copyright Treda Solutions
                    </p>
                </footer>
            </div>
        </div>
        
    </div>

    <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/bootstrap-datepicker/1.9.0/js/bootstrap-datepicker.min.js" integrity="sha512-T/tUfKSV1bihCnd+MxKD0Hm1uBBroVYBOYSk1knyvQ9VyZJpc/ALb4P0r6ubwVPSGB2GvjeoMAJJImBG12TiaQ==" crossorigin="anonymous"></script>
    <script src="https://www.google.com/recaptcha/api.js"
        async defer></script>

    <!-- Recaptcha front error msg -->
    <script>
        const url_string = window.location.href;
        const url = new URL(url_string);
        const recaptchaRes = url.searchParams.get("g-recaptcha-response");

        const errorMsg = document.querySelector('.error');

        if(recaptchaRes == ''){
            errorMsg.classList.add('active');
        } else if(recaptchaRes && errorMsg.classList.contains('active')){
            errorMsg.classList.remove('active');
        } 
    </script>


<script>
    const closeTrigger = document.querySelectorAll('.close a');
    const overlay = document.querySelector('.body_overlay');
    let panel = document.querySelector('.panel.open');

    const pdfTriggers = document.querySelectorAll('.pdfTrigger');

    Array.from(closeTrigger).map( close => {
        close.addEventListener('click', (e) => {
            e.preventDefault();
            e.target.closest('.panel').classList.remove('open');
            overlay.classList.remove('active');
        });
    });

    overlay.addEventListener('click', (e) => {
        e.preventDefault();
        panel.classList.remove('open');
        overlay.classList.remove('active');
    });

    Array.from(pdfTriggers).map(pdfTrigger => {
        pdfTrigger.addEventListener('click', (e) => {
            e.preventDefault();
            const pdfPanelClass = e.target.closest('a').getAttribute("href");
            const pdfPanel = document.querySelector('.' + pdfPanelClass);
            pdfPanel.classList.add('open');
            overlay.classList.add('active');
            return panel = document.querySelector('.panel.open');
        });
    })
    
</script>

    
</body>
</html>
